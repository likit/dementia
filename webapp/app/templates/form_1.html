{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block scripts %}
{{ super() }}
<script src="{{ url_for("static", filename="jquery-ui/datepicker-th.js") }}"></script>
<script src="{{ url_for("static", filename="province.js") }}"></script>
<script>
$SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
var amphurs =  {{ amphurs|safe }};
var provinces = {{ provinces|safe }};
var provinces_list = {{ provinces_list|safe }}.sort();

$(document).ready(function() {
    $('#pid-search').button().bind('click', function(event) {
        event.preventDefault();
        $.getJSON($SCRIPT_ROOT + '/searchpid', {
            pid: $('#pid').val(),
            }, function(data) {
            if (data.result === 'found') {
                $('#pid-search-badge').removeClass();
                $('#pid-search-badge').addClass('glyphicon glyphicon-ok').text('พบในฐานข้อมูล');
                $('#firstname').val(data.firstname);
                $('#lastname').val(data.lastname);
                $('#province').val(data.province);
                $('#province').trigger('change');
                $('#amphur').val(data.amphur);
                $('#amphur').trigger('change');
                $('#district').val(data.district);
                $('#district_number').val(data.district_number);
                $('#age').val(data.age);
                $('#marital').val(data.marital);
                $('#edu').val(data.edu);

                $('#street_number').val(data.street_number);
                $('#gender').val(data.gender);
                $('#congenital_disease').val(data.congenital_disease);
                if (data.congenital_disease !== 'ไม่มีโรคประจำตัว') {
                    $("label[for=congenital_dis_years], input#congenital_dis_years").show();
                }
                if (data.congenital_disease === "โรคเบาหวาน") {
                    $("#fpg").prop("checked", true);
                    $("#bp").prop("checked", false);
                } else if (data.congenital_disease === "โรคความดัน") {
                    $("#fpg").prop("checked", false);
                    $("#bp").prop("checked", true);
                }
            } else {
                $('#pid-search-badge').removeClass();
                $('#pid-search-badge').addClass('glyphicon glyphicon-remove').text('ไม่พบในฐานข้อมูล');
            }
            });
        });

    $('input[type=submit]').button();
    $("#collectdate").datepicker($.datepicker.regional["th"]);
    $('#collectdate').on('change', function() {
            $('#collectdate-badge').text($(this).val());
        });

    $("label[for=smoke_freq], select#smoke_freq").hide();
    $("label[for=smoke_per_week], input#smoke_per_week").hide();
    $("label[for=smoke_per_day], input#smoke_per_day").hide();
    $("label[for=smoke_years], input#smoke_years").hide();
    $("label[for=quit_smoke_years], input#quit_smoke_years").hide()
    $("label[for=congenital_dis_years], input#congenital_dis_years").hide();
    $("label[for=drink_per_day], input#drink_per_day").hide();
    $("label[for=drink_years], input#drink_years").hide();
    $("label[for=quit_drink_years], input#quit_drink_years").hide();

    $("#congenital_dis_other").prop("disabled", true);
    $("#marital").change(function() {
        if ($(this).val() === "other") {
            {# $("#marital_other").prop("disabled", false).prop("required", true) #}
            $("#marital_other").prop("disabled", false).prop("required", false)
            } else {
            $("#marital_other").prop("disabled", true).prop("required", false)
            }
        });

    $("#systolic").change(function() {
            if(parseInt($(this).val()) > 135
                && parseInt($("#diastolic").val()) > 85) {
                $("#bp").prop("checked", true);
                if (!$('#bp').prop('checked')) {
                    $("#bp").prop("checked", true);
                    $("#bp").trigger("change");
                }
            }
        });
    $("#diastolic").change(function() {
            if(parseInt($(this).val()) > 85
                && parseInt($("#systolic").val()) > 135) {
                if (!$('#bp').prop('checked')) {
                    $("#bp").prop("checked", true);
                    $("#bp").trigger("change");
                }
            }
        });

    $("#edu").change(function() {
        set_mmse_score_badge();
        if ($(this).val() === "7") {
            $("#edu_other").prop("disabled", false).prop("required", false);
            {# $("#edu_other").prop("disabled", false).prop("required", true); #}
            $("#edu_years").prop("disabled", false).prop("required", true);
            }
        else if ($(this).val() === "0") {
            $("#edu_years").prop("disabled", true).prop("required", false);
            $("#edu_other").prop("disabled", true).prop("required", false);
            $("#mmse_nine_one").prop("disabled", true);
            $("#mmse_ten_one").prop("disabled", true);
            $("input[name=mmse_four_one]").prop("disabled", true);
            $("input[name=mmse_four_two]").prop("disabled", true);
            }
        else {
            {# $("#edu_years").prop("disabled", false).prop("required", true) #}
            $("#edu_years").prop("disabled", false).prop("required", false)
            }
        });

    $("#living").change(function() {
            if ($(this).val() === 'caregiver') {
                {# $("#living_caregiver").prop("disabled", false).prop("required", true) #}
                $("#living_caregiver").prop("disabled", false).prop("required", false)
                $("#living_other").prop("disabled", true).prop("required", false)
            }
            else if ($(this).val() === "other") {
                $("#living_caregiver").prop("disabled", true).prop("required", false)
                {# $("#living_other").prop("disabled", false).prop("required", true) #}
                $("#living_other").prop("disabled", false).prop("required", false)
            }
            else {
                $("#living_caregiver").prop("disabled", true).prop("required", false)
                $("#living_other").prop("disabled", true).prop("required", false)
            }
        });
    $("#smoking").change(function() {
            console.log($(this).val())
            if($(this).val() === 'yes') {
                $("label[for=smoke_freq], select#smoke_freq").show();
                $("label[for=smoke_per_week], input#smoke_per_week").show();

                $("label[for=smoke_years], input#smoke_years").hide();
                $("label[for=quit_smoke_years], input#quit_smoke_years").hide()

                // reset some values
                $("#smoke_screening").prop('checked', true);
                $('#smoke_screening').trigger("change");
                $("#smoke_years").val("");
                $("#quit_smoke_years").val("");
                $("#smoke_per_day").val("");
            } else if ($(this).val() === 'quit') {
                $("label[for=smoke_freq], select#smoke_freq").hide();
                $("label[for=smoke_per_week], input#smoke_per_week").hide();

                $("label[for=smoke_per_day], input#smoke_per_day").show();
                $("label[for=smoke_years], input#smoke_years").show();
                $("label[for=quit_smoke_years], input#quit_smoke_years").show()

                // reset some values
                $("#smoke_per_week").val("");
                $("#smoke_per_day").val("");
            } else {
                $("label[for=smoke_freq], select#smoke_freq").hide();
                $("label[for=smoke_per_day], input#smoke_per_day").hide();
                $("label[for=smoke_per_week], input#smoke_per_week").hide();

                $("label[for=smoke_years], input#smoke_years").hide();
                $("label[for=quit_smoke_years], input#quit_smoke_years").hide()

                // reset some values
                $("#smoke_years").val("");
                $("#quit_smoke_years").val("");
                $("#smoke_per_day").val("");
                $("#smoke_per_week").val("");
            }
        });
    $("#smoke_freq").change(function() {
            if($(this).val() === "sometimes") {
                $("label[for=smoke_per_week], input#smoke_per_week").show();
                $("label[for=smoke_per_day], input#smoke_per_day").hide();
                $("#smoke_per_day").val("");
            } else {
                $("label[for=smoke_per_week], input#smoke_per_week").hide();
                $("label[for=smoke_per_day], input#smoke_per_day").show();
                $("#smoke_per_week").val("");
            }
        });

    $("#quit_smoke_year").change(function() {
        if (parseFloat($(this).val()) <= 1) {
            $("#smoke_screening").prop("checked", true)
        }
    });


    $("#smoke_per_day").change(function() {
        if (parseFloat($(this).val()) >= 10) {
            $("#smoke_ten_cig").prop("checked", true);
        }
    });

    $("#alcohol").change(function() {
            if($(this).val() === "daily") {
                $("label[for=drink_per_day], input#drink_per_day").show();
                $("label[for=drink_years], input#drink_years").hide();
                $("label[for=quit_drink_years], input#quit_drink_years").hide();
            } else if ($(this).val() === 'quit') {
                $("label[for=drink_per_day], input#drink_per_day").show();
                $("label[for=drink_years], input#drink_years").show();
                $("label[for=quit_drink_years], input#quit_drink_years").show();
            } else {
                $("label[for=drink_per_day], input#drink_per_day").hide();
                $("label[for=drink_years], input#drink_years").hide();
                $("label[for=quit_drink_years], input#quit_drink_years").hide();
                $("#drink_per_day").val("");
                $("#drink_years").val("");
                $("#quit_drink_years").val("");
            }
        });
    $("#congenital_disease").change(function() {
            if ($(this).val() === "อื่นๆ") {
                $("#congenital_dis_other").prop("disabled", false);
                $("#fpg").prop("checked", false);
                $("#bp").prop("checked", false);
            } else if ($(this).val() === "โรคเบาหวาน") {
                $("#fpg").prop("checked", true);
                $("#bp").prop("checked", false);
            } else if ($(this).val() === "โรคความดัน") {
                $("#fpg").prop("checked", false);
                $("#bp").prop("checked", true);
            } else {
                    $("#congenital_dis_other").prop("disabled", true);
            }
            if ($(this).val() === "ไม่มีโรคประจำตัว") {
                $("label[for=congenital_dis_years], input#congenital_dis_years").hide();
            } else {
                $("label[for=congenital_dis_years], input#congenital_dis_years").show();
            }
        });
    $("#dental_part_two_one").change(function() {
            // TODO: the following line is a hack
            if ($("input[name='dental_part_two_one']:checked").val() === "1") {
                $("#dental_transfer_tissue").prop("checked", true);
            } else {
                $("#dental_transfer_tissue").prop("checked", false);
            }
        });

    $("#dental_part_two_two").change(function() {
            // TODO: the following line is a hack
            if ($("input[name='dental_part_two_two']:checked").val() === "1") {
                $("#dental_transfer_gum").prop("checked", true);
            } else {
                $("#dental_transfer_gum").prop("checked", false);
            }
        });

    $("#dental_part_two_three").change(function() {
            // TODO: the following line is a hack
            if ($("input[name='dental_part_two_three']:checked").val() === "1") {
                $("#dental_transfer_cavity").prop("checked", true);
            } else {
                $("#dental_transfer_cavity").prop("checked", false);
            }
        });

    $("#dental_part_two_four").change(function() {
            // TODO: the following line is a hack
            if ($("input[name='dental_part_two_four']:checked").val() === "1") {
                $("#dental_transfer_swallow").prop("checked", true);
            } else {
                $("#dental_transfer_swallow").prop("checked", false);
            }
        });

    $("#dental_part_two_five").change(function() {
            // TODO: the following line is a hack
            if ($("input[name='dental_part_two_five']:checked").val() === "1") {
                $("#dental_transfer_denture").prop("checked", true);
            } else {
                $("#dental_transfer_denture").prop("checked", false);
            }
        });

    var amt_score = 0;
    var set_amt_score = function() {
            if ($(this).is(":checked")) {
                amt_score = amt_score + 1;
                $("#amt_score_badge").text("ข้อที่ตอบถูก " + amt_score);
            } else {
                amt_score = amt_score - 1;
                $("#amt_score_badge").text("ข้อที่ตอบถูก " + amt_score);
            }
            if (amt_score < 8) {
                $("#amt_score_badge").removeClass();
                $("#amt_score_badge").addClass("badge alert-danger");
            } else {
                $("#amt_score_badge").removeClass();
                $("#amt_score_badge").addClass("badge alert-success");
            }
    }

    $("#amt_one").change(set_amt_score);
    $("#amt_two").change(set_amt_score);
    $("#amt_three").change(set_amt_score);
    $("#amt_four").change(set_amt_score);
    $("#amt_five").change(set_amt_score);
    $("#amt_six").change(set_amt_score);
    $("#amt_seven").change(set_amt_score);
    $("#amt_eight").change(set_amt_score);
    $("#amt_nine").change(set_amt_score);
    $("#amt_ten").change(set_amt_score);

    var cardiac_score = 0;
    var set_cardiac_score = function() {
            if ($(this).is(":checked")) {
                cardiac_score = cardiac_score + 1;
            } else {
                cardiac_score = cardiac_score - 1;
            }
            $("#cardiac_score_badge").text("จำนวนข้อที่เลือก " + cardiac_score);
            if (cardiac_score < 3) {
                $("#cardiac_score_badge").removeClass();
                $("#cardiac_score_badge").addClass("badge alert-success");
            } else {
                $("#cardiac_score_badge").removeClass();
                $("#cardiac_score_badge").addClass("badge alert-danger");
            }
    }

    $("#bp").change(set_cardiac_score);
    $("#fpg").change(set_cardiac_score);
    $("#smoke_screening").change(set_cardiac_score);
    $("#abnormal_lipid").change(set_cardiac_score);
    $("#waist").change(set_cardiac_score);
    $("#infarction").change(set_cardiac_score);
    $("#family_infarction").change(set_cardiac_score);

    var eye_exam_score = 0;
    var set_eye_exam_score = function() {
        if ($(this).is(":checked")) {
            eye_exam_score = eye_exam_score + 1;
            $("#eye_exam_score_badge").text("ข้อที่เลือก " + eye_exam_score);
        }
        else {
            eye_exam_score = eye_exam_score - 1;
            $("#eye_exam_score_badge").text("ข้อที่เลือก " + eye_exam_score);
        }
        if (eye_exam_score < 1) {
            $("#eye_exam_score_badge").removeClass();
            $("#eye_exam_score_badge").addClass("badge alert-success");
        } else {
            $("#eye_exam_score_badge").removeClass();
            $("#eye_exam_score_badge").addClass("badge alert-danger");
        }
    }

    $('#eye_exam_one').change(set_eye_exam_score);
    $('#eye_exam_two').change(set_eye_exam_score);
    $('#eye_exam_three').change(set_eye_exam_score);
    $('#eye_exam_four').change(set_eye_exam_score);
    $('#eye_exam_five').change(set_eye_exam_score);

    var snellen_score = 0
    var set_snellen_score = function() {
        var left_score = parseInt(snellen_left.value);
        var right_score = parseInt(snellen_right.value);
        if (left_score + right_score === 14) {
            $('#snellen_score_badge').removeClass();
            $('#snellen_score_badge').addClass("badge alert-success");
            $('#snellen_score_badge').text("ปกติ")
        } else {
            $('#snellen_score_badge').removeClass();
            $('#snellen_score_badge').addClass("badge alert-danger");
            $('#snellen_score_badge').text("ผิดปกติ")
        }
    }
    $('#snellen_left').change(set_snellen_score);
    $('#snellen_right').change(set_snellen_score);

    var mmse_score = 0;
    var mmse_radio_values = [];
    var set_mmse_radio_score = function(event) {
        var value = $(this).filter(":checked").val();
        var previous_val = mmse_radio_values[event.data.i] || 0;
        if (value === 'correct') {
            mmse_score = mmse_score + 1;
            mmse_radio_values[event.data.i] = 1;
        } else {
            if (previous_val === 1) {
                mmse_score = mmse_score - 1;
                mmse_radio_values[event.data.i] = 0;
            }
        }
        $("#mmse_score_badge").text('คะแนนรวม ' + mmse_score);
        set_mmse_score_badge();
    }

    var set_mmse_checkbox_score = function() {
        if ($(this).is(":checked")) {
            mmse_score = mmse_score + 1;
        }
        else {
            mmse_score = mmse_score - 1;
        }
        $("#mmse_score_badge").text('คะแนนรวม ' + mmse_score);
        set_mmse_score_badge();
    }

    var set_mmse_score_badge = function() {
        var edu_level = parseInt($('#edu').val());
        if (edu_level === 0 && mmse_score <= 14) {
            $('#mmse_score_badge').removeClass();
            $('#mmse_score_badge').addClass('badge alert-danger');
        } else if (edu_level === 1 && mmse_score > 18 ) {
            $('#mmse_score_badge').removeClass();
            $('#mmse_score_badge').addClass('badge alert-success');
        } else if (edu_level > 1 && mmse_score > 23 ) {
            $('#mmse_score_badge').removeClass();
            $('#mmse_score_badge').addClass('badge alert-success');
        } else {
            $('#mmse_score_badge').removeClass();
            $('#mmse_score_badge').addClass('badge alert-danger');
        }
    }


    $('input[name=mmse_one_one]').bind("change", {i:0},
                set_mmse_radio_score);
    $('input[name=mmse_one_two]').bind("change", {i:1},
                set_mmse_radio_score);
    $('input[name=mmse_one_three]').bind("change", {i:2},
                set_mmse_radio_score);
    $('input[name=mmse_one_four]').bind("change", {i:3},
                set_mmse_radio_score);
    $('input[name=mmse_one_five]').bind("change", {i:4},
                set_mmse_radio_score);

    $('input[name=mmse_two_one_one]').bind("change", {i:5},
                set_mmse_radio_score);
    $('input[name=mmse_two_one_two]').bind("change", {i:6},
                set_mmse_radio_score);
    $('input[name=mmse_two_one_three]').bind("change", {i:7},
                set_mmse_radio_score);
    $('input[name=mmse_two_one_four]').bind("change", {i:8},
                set_mmse_radio_score);
    $('input[name=mmse_two_one_five]').bind("change", {i:9},
                set_mmse_radio_score);

    $('input[name=mmse_two_two_one]').bind("change", {i:10},
                set_mmse_radio_score);
    $('input[name=mmse_two_two_two]').bind("change", {i:11},
                set_mmse_radio_score);
    $('input[name=mmse_two_two_three]').bind("change", {i:12},
                set_mmse_radio_score);
    $('input[name=mmse_two_two_four]').bind("change", {i:13},
                set_mmse_radio_score);
    $('input[name=mmse_two_two_five]').bind("change", {i:14},
                set_mmse_radio_score);

    $('input[name=mmse_four_one]').bind("change", {i:15},
                set_mmse_radio_score);
    $('input[name=mmse_four_two]').bind("change", {i:16},
                set_mmse_radio_score);

    $('input[name=mmse_six_one]').bind("change", {i:17},
                set_mmse_radio_score);
    $('input[name=mmse_six_two]').bind("change", {i:18},
                set_mmse_radio_score);

    $('input[name=mmse_seven_one]').bind("change", {i:19},
                set_mmse_radio_score);

    $('#mmse_three_flower').change(set_mmse_checkbox_score);
    $('#mmse_three_river').change(set_mmse_checkbox_score);
    $('#mmse_three_train').change(set_mmse_checkbox_score);

    $('#mmse_three_tree').change(set_mmse_checkbox_score);
    $('#mmse_three_sea').change(set_mmse_checkbox_score);
    $('#mmse_three_car').change(set_mmse_checkbox_score);

    $('#mmse_five_flower').change(set_mmse_checkbox_score);
    $('#mmse_five_river').change(set_mmse_checkbox_score);
    $('#mmse_five_train').change(set_mmse_checkbox_score);

    $('#mmse_five_tree').change(set_mmse_checkbox_score);
    $('#mmse_five_sea').change(set_mmse_checkbox_score);
    $('#mmse_five_car').change(set_mmse_checkbox_score);

    $('#mmse_eight_one').change(set_mmse_checkbox_score);
    $('#mmse_eight_two').change(set_mmse_checkbox_score);
    $('#mmse_eight_three').change(set_mmse_checkbox_score);

    $('#mmse_nine_one').change(set_mmse_checkbox_score);
    $('#mmse_ten_one').change(set_mmse_checkbox_score);
    $('#mmse_eleven_one').change(set_mmse_checkbox_score);

    var q2_score = 0;
    var set_q2_score = function() {
        if ($(this).is(":checked")) {
            q2_score = q2_score + 1;
        }
        else {
            q2_score = q2_score - 1;
        }
        $("#q2_score_badge").text('คะแนนรวม ' + q2_score);
        if (q2_score === 2) {
            $('#q2_score_badge').removeClass();
            $('#q2_score_badge').addClass('badge alert-danger');
        } else {
            $('#q2_score_badge').removeClass();
            $('#q2_score_badge').addClass('badge alert-success');
        }
    }

    $('#q2_one').change(set_q2_score);
    $('#q2_two').change(set_q2_score);

    var q9_score = 0;
    var q9_previous_scores = [];
    var set_q9_score = function(event) {
        var prevscore = q9_previous_scores[event.data.i] || 0;
        q9_score = q9_score - prevscore;
        new_score = parseInt($(this).val());
        q9_score = q9_score + new_score;
        q9_previous_scores[event.data.i] = new_score;

        $("#q9_score_badge").text('คะแนนรวม ' + q9_score);
        if (q9_score <= 7) {
            $('#q9_score_badge').removeClass();
            $('#q9_score_badge').addClass('badge alert-success');
        } else {
            $('#q9_score_badge').removeClass();
            $('#q9_score_badge').addClass('badge alert-danger');
        }
    }

    $('#q9_one').bind('change', {i:0}, set_q9_score);
    $('#q9_two').bind('change', {i:1}, set_q9_score);
    $('#q9_three').bind('change', {i:2}, set_q9_score);
    $('#q9_four').bind('change', {i:3}, set_q9_score);
    $('#q9_five').bind('change', {i:4}, set_q9_score);
    $('#q9_six').bind('change', {i:5}, set_q9_score);
    $('#q9_seven').bind('change', {i:6}, set_q9_score);
    $('#q9_eight').bind('change', {i:7}, set_q9_score);
    $('#q9_nine').bind('change', {i:8}, set_q9_score);


    $('input[name=knee_pain]').change(function(event) {
            console.log('knee pain', $(this).filter(':checked').val())
            if ($(this).filter(":checked").val() === 'True') {
                $('#knee_pain_badge').text('ปวดเข่า');
                console.log('so painful')
            } else {
                $('#knee_pain_badge').text('');
            }
        });

    var knee_pain_clinic_score = 0;
    var set_knee_pain_clinic_score = function() {
        if ($(this).is(":checked")) {
            knee_pain_clinic_score = knee_pain_clinic_score + 1;
        } else {
            knee_pain_clinic_score = knee_pain_clinic_score - 1;
        }
        $('#knee_pain_clinic_score_badge').text('จำนวนข้อที่ตอบใช่ ' + knee_pain_clinic_score);
        if (knee_pain_clinic_score >= 2) {
            $('#knee_pain_clinic_score_badge').removeClass();
            $('#knee_pain_clinic_score_badge').addClass('badge alert-danger');
        } else {
            $('#knee_pain_clinic_score_badge').removeClass();
            $('#knee_pain_clinic_score_badge').addClass('badge alert-success');
        }
    }

    $('#knee_pain_clinic_one').change(set_knee_pain_clinic_score);
    $('#knee_pain_clinic_two').change(set_knee_pain_clinic_score);
    $('#knee_pain_clinic_three').change(set_knee_pain_clinic_score);
    $('#knee_pain_clinic_four').change(set_knee_pain_clinic_score);
    $('#knee_pain_clinic_five').change(set_knee_pain_clinic_score);

    $('input[name=tugt]').change(function() {
        if($(this).filter(':checked').val() === '1') {
            $('#tugt_badge').text('เสียง')
        } else {
            $('#tugt_badge').text('')
        }
    });

    var malnutrition_score = 0;
    var malnutrition_radio_values = [];
    var set_malnutrition_radio_score = function(event) {
        var value = parseInt($(this).filter(":checked").val());
        var previous_val = malnutrition_radio_values[event.data.i] || 0;
        malnutrition_score = malnutrition_score - previous_val;
        malnutrition_score = malnutrition_score + value;
        malnutrition_radio_values[event.data.i] = value;
        $("#malnutrition_score_badge").text('คะแนนรวม ' + malnutrition_score);
        if (malnutrition_score > 7) {
            $('#malnutrition_score_badge').removeClass();
            $('#malnutrition_score_badge').addClass('badge alert-success');
        } else {
            $('#malnutrition_score_badge').removeClass();
            $('#malnutrition_score_badge').addClass('badge alert-danger');
        }
    }

    $('input[name=malnutrition_one]').bind("change", {i:0},
                set_malnutrition_radio_score);
    $('input[name=malnutrition_two]').bind("change", {i:1},
                set_malnutrition_radio_score);
    $('input[name=malnutrition_three]').bind("change", {i:2},
                set_malnutrition_radio_score);
    $('input[name=malnutrition_four]').bind("change", {i:3},
                set_malnutrition_radio_score);
    $('input[name=malnutrition_five]').bind("change", {i:4},
                set_malnutrition_radio_score);
    $('input[name=malnutrition_six]').bind("change", {i:5},
                set_malnutrition_radio_score);

    $('input[name=sleeping_one]').change(function() {
        if ($(this).filter(':checked').val() === '0') {
            $('#insomnia').prop('disabled', true);
            $('#oversleep').prop('disabled', true);
            $('#dreamwalk').prop('disabled', true);
            $('#snore').prop('disabled', true);
            $('#sleeping_other').prop('disabled', true);
            $('#sleeping_period_year').prop('disabled', true);
            $('#sleeping_period_month').prop('disabled', true);
            $('#sleeping_avg_hours').prop('disabled', true);
            $('#sleeping_trouble_badge').text('');
        } else {
            $('#insomnia').prop('disabled', false);
            $('#oversleep').prop('disabled', false);
            $('#dreamwalk').prop('disabled', false);
            $('#snore').prop('disabled', false);
            $('#sleeping_other').prop('disabled', false);
            $('#sleeping_period_year').prop('disabled', false);
            $('#sleeping_period_month').prop('disabled', false);
            $('#sleeping_avg_hours').prop('disabled', false);
            $('#sleeping_trouble_badge').text('มีปัญหา');
        }
    });

    var routine_score = 0;
    var routine_previous_scores = [];
    var set_routine_score = function(event) {
        var score = parseInt($(this).filter(':checked').val());
        var prev_score = routine_previous_scores[event.data.i] || 0;
        routine_score = routine_score - prev_score;
        routine_score = routine_score + score;
        routine_previous_scores[event.data.i] = score;
        set_routine_score_badge();
    }

    var set_routine_score_badge = function() {
        $('#routine_score_badge').text('คะแนนรวม ' + routine_score);
        if (routine_score >= 5) {
            $('#routine_score_badge').removeClass();
            $('#routine_score_badge').addClass('badge alert-success');
        } else {
            $('#routine_score_badge').removeClass();
            $('#routine_score_badge').addClass('badge alert-danger');
        }
    }

    $('input[name=routine_one]').bind('change', {i:0}, set_routine_score);
    $('input[name=routine_two]').bind('change', {i:1}, set_routine_score);
    $('input[name=routine_three]').bind('change', {i:2}, set_routine_score);
    $('input[name=routine_four]').bind('change', {i:3}, set_routine_score);
    $('input[name=routine_five]').bind('change', {i:4}, set_routine_score);
    $('input[name=routine_six]').bind('change', {i:5}, set_routine_score);
    $('input[name=routine_seven]').bind('change', {i:6}, set_routine_score);
    $('input[name=routine_eight]').bind('change', {i:7}, set_routine_score);
    $('input[name=routine_nine]').bind('change', {i:8}, set_routine_score);
    $('input[name=routine_ten]').bind('change', {i:9}, set_routine_score);

    var long_term_care_score = 0;
    var long_term_care_previous_scores = [];
    var set_long_term_care_score = function(event) {
        var score = parseInt($(this).filter(':checked').val());
        var prev_score = long_term_care_previous_scores[event.data.i] || 0;
        long_term_care_score = long_term_care_score - prev_score;
        long_term_care_score = long_term_care_score + score;
        long_term_care_previous_scores[event.data.i] = score;
        set_long_term_care_score_badge();
    }
    var set_long_term_care_score_badge = function() {
        $('#long_term_care_score_badge').text('คะแนนรวม ' + long_term_care_score);
        {# if (long_term_care_score < 17) { #}
        {#     $('#long_term_care_score_badge').removeClass(); #}
        {#     $('#long_term_care_score_badge').addClass('badge alert-success'); #}
        {# } else { #}
        {#     $('#long_term_care_score_badge').removeClass(); #}
        {#     $('#long_term_care_score_badge').addClass('badge alert-danger'); #}
        {# } #}
    }

    var set_long_term_care_score_checkbox = function() {
        if ($(this).is(":checked")) {
            long_term_care_score = long_term_care_score + 1;
        }
        else {
            long_term_care_score = long_term_care_score - 1;
        }
        set_long_term_care_score_badge();
    };

    $('input[name=long_term_care_one_one]').bind('change', {i:0}, set_long_term_care_score);
    $('input[name=long_term_care_one_two]').bind('change', {i:1}, set_long_term_care_score);
    $('input[name=long_term_care_one_three]').bind('change', {i:2}, set_long_term_care_score);

    $('input[name=long_term_care_two_one]').bind('change', {i:3}, set_long_term_care_score);
    $('input[name=long_term_care_two_two]').bind('change', {i:4}, set_long_term_care_score);

    $('input[name=long_term_care_three_one]').bind('change', {i:5}, set_long_term_care_score);

    $('input[name=long_term_care_three_two_one]').change(function() {
            if ($(this).is(":checked")) {
                if(!$('#long_term_care_three_two_two').is(":checked")) {
                    long_term_care_score = long_term_care_score + 1;
                }
            } else {
                if(!$('#long_term_care_three_two_two').is(":checked")) {
                    long_term_care_score = long_term_care_score - 1;
                }
            }
            set_long_term_care_score_badge();
    });

    $('input[name=long_term_care_three_two_two]').change(function() {
            if ($(this).is(":checked")) {
                if(!$('#long_term_care_three_two_one').is(":checked")) {
                    long_term_care_score = long_term_care_score + 1;
                }
            } else {
                if(!$('#long_term_care_three_two_one').is(":checked")) {
                    long_term_care_score = long_term_care_score - 1;
                }
            }
            set_long_term_care_score_badge();
    });

    $('input[name=long_term_care_four_one]').change(set_long_term_care_score_checkbox);
    $('input[name=long_term_care_four_two]').change(set_long_term_care_score_checkbox);
    $('input[name=long_term_care_four_three]').change(set_long_term_care_score_checkbox);
    $('input[name=long_term_care_four_four]').change(set_long_term_care_score_checkbox);
    $('input[name=long_term_care_four_five]').change(set_long_term_care_score_checkbox);

    $("#accordion").accordion({
            heightStyle: "content",
            event: "click hoverintent",
            collapsible: true
    });

});
</script>
{% endblock %}

{% block title %}แบบประเมิน/คัดกรอกผู้สูงอายุ{% endblock %}

{% block page_content %}
<div class="container">
    {% if current_user.verified %}
    <form id="mainform" method="post">
        {{ form.hidden_tag() }}
        {% if form.errors %}
            {{ form.errors }}
            <div class="alert alert-warning" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                กรุณากรอกข้อมูลช่องที่ต้องกรอกให้ครบ
                <button type="button" class="close" data-dismiss="alert">&times;</button>
            </div>
        {% endif %}
    <div class="page-header">
    <div>
        <div class="panel panel-primary">
            <div class="panel panel-heading"><h4><strong>ข้อมูลผู้กรอกแบบประเมิน</strong></h4></div>
            <div class="panel-body">
                <p><strong>รหัสบัตรประชาชน: </strong>{{ current_user.username }}
                <strong>ชื่อ: </strong>{{ current_user.title }} {{ current_user.name }} {{ current_user.lastname }}</p>
                <p><strong>ตำแหน่ง: </strong>{{ current_user.position }}
                <strong>หน่วยงาน: </strong>{{ current_user.org }}
                <strong>จังหวัด: </strong>{{ current_user.province }}</p>
            </div>
        </div>
    </div>

    <div id="accordion">
        <h4><strong>วันที่เก็บข้อมูล <span id="collectdate-badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                    <small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small> ต้องกรอก
                    </div>
                    <label class="control-label" for="collectdate">โปรดเลือกวันที่เก็บข้อมูล </label>
                    {# <input type="text" id="datepicker"> #}
                    {{ form.collectdate() }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>
                </div>
            </div>
        </div>
        <h4><strong>แบบสัมภาษณ์ข้อมูลส่วนบุคคล</strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                    <small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small> ต้องกรอก
                    </div>
                    <table class="table table-striped table-bordered">
                        <tr><td>
                                {{ form.pid.label }} {{ form.pid(size="13") }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>
                            {% if form.pid.errors %}
                                {% for error in form.pid.errors %}
                                    <div class="pid_error">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                            <button id="pid-search">ค้นหา</button> <span id="pid-search-badge" class="badge"></span>
                            <br/>
                            {{ form.firstname.label }} {{ form.firstname(size="40") }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>

                            {{ form.lastname.label }} {{ form.lastname(size="40") }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>

                            {{ form.age.label }} {{ form.age(size="3") }}
                        </td></tr>
                        <tr><td>
                                {{ form.street_number.label }} {{ form.street_number(size="6") }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>

                                {{ form.district_number.label }} {{ form.district_number(size="3") }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>

                                {{ form.province.label }} {{ form.province() }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>


                                {{ form.amphur.label }} {{ form.amphur() }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>


                                {{ form.district.label }} {{ form.district() }}<small><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span></small>
                        </td></tr>
                        <tr><td>
                            {{ form.gender.label }} {{ form.gender() }}
                            {{ form.weight.label }} {{ form.weight(size="6") }}
                            {{ form.height.label }} {{ form.height(size="6") }}
                            {{ form.marital.label }} {{ form.marital() }}
                            {{ form.marital_other.label }} {{ form.marital_other(disabled=True) }}
                        </td></tr>
                        <tr><td>
                            {{ form.edu.label }} {{ form.edu() }}
                            {{ form.edu_other.label }} {{ form.edu_other(disabled=True) }}
                            {{ form.edu_years.label }} {{ form.edu_years(disabled=True) }}
                        </td></tr>
                        <tr><td>
                            {{ form.living.label }} {{ form.living() }}
                            {{ form.living_caregiver.label }} {{ form.living_caregiver(disabled=True) }}
                            {{ form.living_other.label }} {{ form.living_other(disabled=True) }}
                        </td></tr>
                        <tr><td>
                            {{ form.income.label }} {{ form.income() }}
                        </td></tr>
                        <tr><td>
                            {{ form.elder_club.label }} {{ form.elder_club() }}
                        </td></tr>
                        <tr><td>
                            {{ form.health_status.label }} {{ form.health_status() }}
                        </td></tr>
                        <tr><td>
                            {{ form.smoking.label }} {{ form.smoking() }}
                            {{ form.smoke_freq.label }} {{ form.smoke_freq() }}
                            {{ form.smoke_per_week.label }} {{ form.smoke_per_week() }}
                            {{ form.smoke_per_day.label }} {{ form.smoke_per_day() }}
                            {{ form.smoke_years.label }} {{ form.smoke_years() }}
                            {{ form.quit_smoke_years.label }} {{ form.quit_smoke_years() }}
                        </td></tr>
                        <tr><td>
                            {{ form.alcohol.label }} {{ form.alcohol() }}
                            {{ form.drink_per_day.label }} {{ form.drink_per_day() }}
                            {{ form.drink_years.label }} {{ form.drink_years() }}
                            {{ form.quit_drink_years.label }} {{ form.quit_drink_years() }}
                        </td></tr>
                        <tr><td>
                            {{ form.congenital_disease.label }} {{ form.congenital_disease() }}
                        </td></tr>
                        <tr><td>
                            {{ form.congenital_dis_other.label }} {{ form.congenital_dis_other() }}
                            {{ form.congenital_dis_years.label }} {{ form.congenital_dis_years() }}
                        </td></tr>
                    </table>
                </div>
            </div>
        </div>
        <h4><strong>ค่าความดันโลหิต</strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <table class="table table-striped table-bordered">
                        <tr><td>
                                {{ form.systolic.label }} {{ form.systolic() }}
                        </td></tr>
                        <tr><td>
                                {{ form.diastolic.label }} {{ form.diastolic() }}
                        </td></tr>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองความเสี่ยงต่อโรคหัวใจและหลอดเลือดสมอง</strong>
        <span id="cardiac_score_badge" class="badge"></span></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                        <p>ตอบใช่น้อยกว่าหรือเท่ากับ 2 ข้อ มีความเสี่ยง</p>
                        <p>ตอบใช่ 3-4 ข้อ มีความเสี่ยงสูง</p>
                        <p>ตอบใช่มากกว่าหรือเท่ากับ 5 ข้อ มีความเสี่ยงสูงมาก</p>
                    </div>
                    <table class="table table-striped table-bordered">
                        <tr><td>
                            {{ form.smoke_screening.label }}
                        </td><td class="col-md-2">
                            {{ form.smoke_screening() }}
                        </td></tr>
                        <tr><td>
                            {{ form.bp.label }}
                        </td><td class="col-md-2">
                            {{ form.bp() }}
                        </td></tr>
                        <tr><td>
                            {{ form.fpg.label }}
                        </td><td class="col-md-2">
                            {{ form.fpg() }}
                        </td></tr>
                        <tr><td>
                            {{ form.abnormal_lipid.label }}
                        </td><td class="col-md-2">
                            {{ form.abnormal_lipid() }}
                        </td></tr>
                        <tr><td>
                            {{ form.waist.label }}
                        </td><td class="col-md-2">
                            {{ form.waist() }}
                        </td></tr>
                        <tr><td>
                            {{ form.infarction.label }}
                        </td><td class="col-md-2">
                            {{ form.infarction() }}
                        </td></tr>
                        <tr><td>
                            {{ form.family_infarction.label }}
                        </td><td class="col-md-2">
                            {{ form.family_infarction() }}
                        </td></tr>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การประเมินสุขภาพช่องปาก</strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <h4>ส่วนที่ 1 ประเมินพฤฒิกรรมเสี่ยงต่อสุขภาพช่องปาก</h4>
                    <br>
                    <table class="table table-striped table-bordered">
                        <tr><td class="active">
                                <strong>ประเมินพฤฒิกรรมการทำความสะอาดช่องปาก</strong>
                        </td><td class="active"></td></tr>
                        <tr><td>
                                {{ form.dental_brushing.label }} {{ form.dental_brushing() }}
                                {{ form.dental_brushing_gt_twice.label }} {{ form.dental_brushing_gt_twice() }}
                                {{ form.dental_brushing_other.label }} {{ form.dental_brushing_other() }}
                        </td><td></td></tr>
                        <tr><td>
                                {{ form.fluoride_toothpaste.label }}
                        </td><td class="col-md-2">
                                {{ form.fluoride_toothpaste() }}
                        </td></tr>
                        <tr><td>
                                {{ form.dental_floss.label }}
                                {{ form.dental_floss_equip.label }}
                                {{ form.dental_floss_equip() }}
                        </td><td class="col-md-2">
                                {{ form.dental_floss() }}
                        </td></tr>
                        <tr><td class="active">
                                <strong>ประเมินสภาวะเสี่ยงต่อการเกิดโรคในปาก</strong>
                        </td><td class="active"></td></tr>
                        <tr><td>
                                {{ form.smoke_ten_cig.label }}
                        </td><td>
                                {{ form.smoke_ten_cig() }}
                        </td></tr>
                        <tr><td>
                                {{ form.chew_gum.label }}
                        </td><td>
                                {{ form.chew_gum() }}
                        </td></tr>
                    </table>
                    <h4>ส่วนที่ 2</h4>
                    <br>
                    <table class="table table-striped table-bordered">
                        <tr class="active">
                            <td>ข้อ</td><td>คำถาม</td><td>คะแนน</td><td>การติดตามผล</td></tr>
                        <tbody>
                        <tr>
                            <td>1</td><td>{{ form.dental_part_two_one.label }}</td>
                            <td>{{ form.dental_part_two_one() }}</td>
                            <td>{{ form.dental_part_two_one_follow_up.label }} {{ form.dental_part_two_one_follow_up() }}</td>
                        </tr>
                        <tr>
                            <td>2</td><td>{{ form.dental_part_two_two.label }}</td>
                            <td>{{ form.dental_part_two_two() }}</td>
                            <td>{{ form.dental_part_two_two_follow_up.label }} {{ form.dental_part_two_two_follow_up() }}</td>
                        </tr>
                        <tr>
                            <td>3</td><td>{{ form.dental_part_two_three.label }}</td>
                            <td>{{ form.dental_part_two_three() }}</td>
                            <td>{{ form.dental_part_two_three_follow_up.label }} {{ form.dental_part_two_three_follow_up() }}</td>
                        </tr>
                        <tr>
                            <td>4</td><td>{{ form.dental_part_two_four.label }}</td>
                            <td>{{ form.dental_part_two_four() }}</td>
                            <td>{{ form.dental_part_two_four_follow_up.label }} {{ form.dental_part_two_four_follow_up() }}</td>
                        </tr>
                        <tr>
                            <td>5</td><td>{{ form.dental_part_two_five.label }}</td>
                            <td>{{ form.dental_part_two_five() }}</td>
                            <td>{{ form.dental_part_two_five_follow_up.label }} {{ form.dental_part_two_five_follow_up() }}</td>
                        </tr>
                        <tr>
                            <td>6</td><td>{{ form.dental_part_two_six.label }}</td>
                            <td>{{ form.dental_part_two_six() }}</td>
                            <td>{{ form.dental_part_two_six_follow_up.label }} {{ form.dental_part_two_six_follow_up() }}</td>
                        </tr>
                        <tr>
                            <td>7</td><td>{{ form.dental_part_two_seven.label }}</td>
                            <td>{{ form.dental_part_two_seven() }}</td>
                            <td>{{ form.dental_part_two_seven_follow_up.label }} {{ form.dental_part_two_seven_follow_up() }}</td>
                        </tr>
                        </tbody>
                    </table>
                    <h4>ส่วนที่ 3 แผนการส่งต่อ</h4>
                    {{ form.dental_transfer_tissue.label() }} {{ form.dental_transfer_tissue() }}
                    <br/>
                    {{ form.dental_transfer_gum.label() }} {{ form.dental_transfer_gum() }}
                    <br/>
                    {{ form.dental_transfer_cavity.label() }} {{ form.dental_transfer_cavity() }}
                    <br/>
                    {{ form.dental_transfer_swallow.label() }} {{ form.dental_transfer_swallow() }}
                    <br/>
                    {{ form.dental_transfer_denture.label() }} {{ form.dental_transfer_denture() }}
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองสุขภาพทางตา <span id="eye_exam_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td>ข้อ</td><td>คำถาม</td><td>ใช่</td><td>ระบุตา</td>
                        </tr>
                        <tbody>
                        <tr>
                            <td>1</td><td>{{ form.eye_exam_one.label }}</td>
                            <td> {{ form.eye_exam_one() }}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>2</td><td>{{ form.eye_exam_two.label }}</td>
                            <td> {{ form.eye_exam_two() }}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>3</td><td>{{ form.eye_exam_three.label }}</td>
                            <td> {{ form.eye_exam_three() }}</td>
                            <td>{{ form.eye_exam_three_side() }}</td>
                        </tr>
                        <tr>
                            <td>4</td><td>{{ form.eye_exam_four.label }}</td>
                            <td> {{ form.eye_exam_four() }}</td>
                            <td>{{ form.eye_exam_four_side() }}</td>
                        </tr>
                        <tr>
                            <td>5</td><td>{{ form.eye_exam_five.label }}</td>
                            <td> {{ form.eye_exam_five() }}</td>
                            <td>{{ form.eye_exam_five_side() }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การประเมินการมองเห็น <span id="snellen_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <strong>ผลการประเมินการมองเห็นด้วยแผ่นป้ายสเนลเลนของผู้สูงอายุ</strong>
                    {{ form.snellen_left.label }} {{ form.snellen_left() }}
                    {{ form.snellen_right.label }} {{ form.snellen_right() }}
                </div>
            </div>
        </div>

        <h4><strong>การทดสอบสภาพสมอง: Abbreviated Mental Test (AMT) <span id="amt_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                        <p>ตอบถูกน้อยกวา 8 ข้อแสดงว่าการรู้คิดผิดปกติ (abnormal cognitive function)</p>
                    </div>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td>ข้อ</td><td>คำถาม</td><td>ถูก</td>
                        </tr>
                        <tbody>
                        <tr>
                            <td>1</td><td>{{ form.amt_one.label }}</td>
                            <td>{{ form.amt_one() }}</td>
                        </tr>
                        <tr>
                            <td>2</td><td>{{ form.amt_two.label }}</td>
                            <td>{{ form.amt_two() }}</td>
                        </tr>
                        <tr>
                            <td>3</td><td>{{ form.amt_three.label }}</td>
                            <td>{{ form.amt_three() }}</td>
                        </tr>
                        <tr>
                            <td>4</td><td>{{ form.amt_four.label }}</td>
                            <td>{{ form.amt_four() }}</td>
                        </tr>
                        <tr>
                            <td>5</td><td>{{ form.amt_five.label }}</td>
                            <td>{{ form.amt_five() }}</td>
                        </tr>
                        <tr>
                            <td>6</td><td>{{ form.amt_six.label }}</td>
                            <td>{{ form.amt_six() }}</td>
                        </tr>
                        <tr>
                            <td>7</td><td>{{ form.amt_seven.label }}</td>
                            <td>{{ form.amt_seven() }}</td>
                        </tr>
                        <tr>
                            <td>8</td><td>{{ form.amt_eight.label }}</td>
                            <td>{{ form.amt_eight() }}</td>
                        </tr>
                        <tr>
                            <td>9</td><td>{{ form.amt_nine.label }}</td>
                            <td>{{ form.amt_nine() }}</td>
                        </tr>
                        <tr>
                            <td>10</td><td>{{ form.amt_ten.label }}</td>
                            <td>{{ form.amt_ten() }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การทดสอบสภาพสมองเบื้องต้นฉบับภาษาไทย MMSE-Thai 2002 <span id="mmse_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                        <p>สำหรับผู้ไม่ได้เรียนหนังสือ ตอบถูกน้อยกว่าหรือเท่ากับ 14 ข้อ เข้าข่ายสงสัยมีภาวะความจำเสื่อม (ข้ามข้อ 4,9 และ 10)</p>
                        <p>สำหรับผู้เรียนระดับประถมศึกษา  ตอบถูกน้อยกว่าหรือเท่ากับ 17 ข้อ เข้าข่ายสงสัยมีภาวะความจำเสื่อม</p>
                        <p>สำหรับผู้เรียนสูงกว่าระดับประถมศึกษา  ตอบถูกน้อยกว่าหรือเท่ากับ 22 ข้อ เข้าข่ายสงสัยมีภาวะความจำเสื่อม</p>
                    </div>
                    <table class="table table-striped table-bordered">
                        <tr class="active">
                            <td><strong>1. Orientation for time: ทดสอบการรับรู้เกี่ยวกับเวลาในปัจจุบัน (5 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_one_one.label }}</td>
                            <td>{{ form.mmse_one_one() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_one_two.label }}</td>
                            <td>{{ form.mmse_one_two() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_one_three.label }}</td>
                            <td>{{ form.mmse_one_three() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_one_four.label }}</td>
                            <td>{{ form.mmse_one_four() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_one_five.label }}</td>
                            <td>{{ form.mmse_one_five() }}</td>
                        </tr>
                        <tr class="active">
                            <td><strong>2. Orientation for place: ทดสอบการรับรู้เกี่ยวกับที่อยู่ในปัจจุบัน (5 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr class="active">
                            <td><strong>2.1 กรณีอยู่สถานพยาบาล</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_one_one.label }}</td>
                            <td>{{ form.mmse_two_one_one() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_one_two.label }}</td>
                            <td>{{ form.mmse_two_one_two() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_one_three.label }}</td>
                            <td>{{ form.mmse_two_one_three() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_one_four.label }}</td>
                            <td>{{ form.mmse_two_one_four() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_one_five.label }}</td>
                            <td>{{ form.mmse_two_one_five() }}</td>
                        </tr>
                        <tr class="active">
                            <td><strong>2.2 กรณีอยู่บ้านของผู้ถูกทดสอบ</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_two_one.label }}</td>
                            <td>{{ form.mmse_two_two_one() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_two_two.label }}</td>
                            <td>{{ form.mmse_two_two_two() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_two_three.label }}</td>
                            <td>{{ form.mmse_two_two_three() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_two_four.label }}</td>
                            <td>{{ form.mmse_two_two_four() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_two_two_five.label }}</td>
                            <td>{{ form.mmse_two_two_five() }}</td>
                        </tr>
                        <tr class="active">
                            <td><strong>3. Registration: ทดสอบการบันทึกความจำโดยให้จำของชื่อ 3 อย่าง</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_three_flower.label }} {{ form.mmse_three_flower() }}
                            {{ form.mmse_three_river.label }} {{ form.mmse_three_river() }}
                            {{ form.mmse_three_train.label }} {{ form.mmse_three_train() }}</td>
                            <td></td>
                        </tr>
                        <tr class="active">
                            <td>กรณีทำแบบทดสอบซ้ำภายในสองเดือน ให้ใช้คำว่า</td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_three_tree.label }} {{ form.mmse_three_tree() }}
                            {{ form.mmse_three_sea.label }} {{ form.mmse_three_sea() }}
                            {{ form.mmse_three_car.label }} {{ form.mmse_three_car() }}</td>
                            <td></td>
                        </tr>
                        <tr class="active">
                            <td><strong>4. Attention or Calculation: ทดสอบสมาธิโดยให้คิดเลขในใจ (5 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_four_one.label }}</td>
                            <td>{{ form.mmse_four_one() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_four_two.label }}</td>
                            <td>{{ form.mmse_four_two() }}</td>
                        </tr>
                        <tr class="active">
                            <td><strong>5. Recall: ทดสอบการความจำระยะสั้นของชื่อสิ่ง 3 อย่าง (3 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_five_flower.label }} {{ form.mmse_five_flower() }}
                            {{ form.mmse_five_river.label }} {{ form.mmse_five_river() }}
                            {{ form.mmse_five_train.label }} {{ form.mmse_five_train() }}</td>
                            <td></td>
                        </tr>
                        <tr class="active">
                            <td>กรณีทำแบบทดสอบซ้ำภายในสองเดือน ให้ใช้คำว่า</td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_five_tree.label }} {{ form.mmse_five_tree() }}
                            {{ form.mmse_five_sea.label }} {{ form.mmse_five_sea() }}
                            {{ form.mmse_five_car.label }} {{ form.mmse_five_car() }}</td>
                            <td></td>
                        </tr>
                        <tr class="active">
                            <td><strong>6. Naming: ทดสอบการบอกชื่อสิ่งของที่ได้เห็น (2 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_six_one.label }}</td>
                            <td>{{ form.mmse_six_one() }}</td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_six_two.label }}</td>
                            <td>{{ form.mmse_six_two() }}</td>
                        </tr>
                        <tr class="active">
                            <td><strong>7. Repetition: ทดสอบการพูดซ้ำคำที่ได้ยิน (1 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_seven_one.label }}</td>
                            <td>{{ form.mmse_seven_one() }}</td>
                        </tr>
                        <tr class="active">
                            <td><strong>8. Verbal command: ทดสอบการเข้าใจความหมายและคำสั่ง (3 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_eight_one.label }} {{ form.mmse_eight_one() }}
                            {{ form.mmse_eight_two.label }} {{ form.mmse_eight_two() }}
                            {{ form.mmse_eight_three.label }} {{ form.mmse_eight_three() }}</td>
                            <td></td>
                        </tr>
                        <tr class="active">
                            <td><strong>9. Written command: ทดสอบการอ่าน การเข้าใจความหมายและทำตามได้ (1 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_nine_one.label }} {{ form.mmse_nine_one() }}</td>
                            <td></td>
                        </tr>
                        <tr class="active">
                            <td><strong>10. Writing: ทดสอบการเขียนภาษาอย่างมีความหมาย (1 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_ten_one.label }} {{ form.mmse_ten_one() }}</td>
                            <td></td>
                        </tr>
                        <tr class="active">
                            <td><strong>11. Visuoconstruction: ทดสอบความสัมพันธ์ระหว่างตากับมือ (1 คะแนน)</strong></td><td></td>
                        </tr>
                        <tr>
                            <td>{{ form.mmse_eleven_one.label }} {{ form.mmse_eleven_one() }}</td>
                            <td></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองโรคซึมเศร้าด้วย 2 คำถาม (2Q) <span id="q2_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                        <p>ถ้าตอบว่าไม่มีทั้ง 2 ข้อแสดงว่าปกติ</p>
                    </div>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td>ข้อ</td><td>คำถาม</td><td>มี</td>
                        </tr>
                        <tbody>
                        <tr>
                            <td>1</td><td>{{ form.q2_one.label }}</td><td class="col-md-2"> {{ form.q2_one() }}</td>
                        </tr>
                        <tr>
                            <td>2</td><td>{{ form.q2_two.label }}</td><td class="col-md-2"> {{ form.q2_two() }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองโรคซึมเศร้าด้วย 9 คำถาม (9Q) <span id="q9_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert-warning">
                        <p>คะแนนรวม < 7 แสดงว่าไม่มีอาการของโรคซึมเศร้า</p>
                        <p>คะแนนรวม 7-12 แสดงว่ามีอาการของโรคซึมเศร้าระดับน้อย</p>
                        <p>คะแนนรวม 13-18 แสดงว่ามีอาการของโรคซึมเศร้าระดับปานกลาง</p>
                        <p>คะแนนรวม >= 19 แสดงว่ามีอาการของโรคซึมเศร้าระดับรุนแรง</p>
                    </div>
                    <table class="table table-striped table-bordered">
                        <tr class="active">
                            <td>ข้อ</td><td>คำถาม</td><td></td>
                        </tr>
                        <tr>
                            <td>1</td><td>{{ form.q9_one.label }}</td><td>{{ form.q9_one() }}</td>
                        </tr>
                        <tr>
                            <td>2</td><td>{{ form.q9_two.label }}</td><td>{{ form.q9_two() }}</td>
                        </tr>
                        <tr>
                            <td>3</td><td>{{ form.q9_three.label }}</td><td>{{ form.q9_three() }}</td>
                        </tr>
                        <tr>
                            <td>4</td><td>{{ form.q9_four.label }}</td><td>{{ form.q9_four() }}</td>
                        </tr>
                        <tr>
                            <td>5</td><td>{{ form.q9_five.label }}</td><td>{{ form.q9_five() }}</td>
                        </tr>
                        <tr>
                            <td>6</td><td>{{ form.q9_six.label }}</td><td>{{ form.q9_six() }}</td>
                        </tr>
                        <tr>
                            <td>7</td><td>{{ form.q9_seven.label }}</td><td>{{ form.q9_seven() }}</td>
                        </tr>
                        <tr>
                            <td>8</td><td>{{ form.q9_eight.label }}</td><td>{{ form.q9_eight() }}</td>
                        </tr>
                        <tr>
                            <td>9</td><td>{{ form.q9_nine.label }}</td><td>{{ form.q9_nine() }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองโรคข้อเข่าเสื่อม <span id="knee_pain_badge" class="badge alert-danger"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    {{ form.knee_pain.label }} {{ form.knee_pain() }}
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองโรคข้อเข่าเสื่อมทางคลินิก <span id="knee_pain_clinic_score_badge" class="badge alert-danger"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                        <p>ผู้สูงอายุมีอาการปวดขาและตอบว่าใช่ 2 ข้อแสดงว่ามีโอกาสเป็นโรคเข่าเสื่อม</p>
                    </div>
                    <table class="table table-striped table-bordered">
                        <tbody>
                        <tr>
                            <td>ข้อ</td><td>คำถาม</td><td class="col-md-2">ใช่</td>
                        </tr>
                        <tr>
                            <td>1</td><td>{{ form.knee_pain_clinic_one.label }}</td>
                            <td class="col-md-2">{{ form.knee_pain_clinic_one() }}</td>
                        </tr>
                        <tr>
                            <td>2</td><td>{{ form.knee_pain_clinic_two.label }}</td>
                            <td class="col-md-2">{{ form.knee_pain_clinic_two() }}</td>
                        </tr>
                        <tr>
                            <td>3</td><td>{{ form.knee_pain_clinic_three.label }}</td>
                            <td class="col-md-2">{{ form.knee_pain_clinic_three() }}</td>
                        </tr>
                        <tr>
                            <td>4</td><td>{{ form.knee_pain_clinic_four.label }}</td>
                            <td class="col-md-2">{{ form.knee_pain_clinic_four() }}</td>
                        </tr>
                        <tr>
                            <td>5</td><td>{{ form.knee_pain_clinic_five.label }}</td>
                            <td class="col-md-2">{{ form.knee_pain_clinic_five() }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองภาวะหกล้ม Timed Up and Go Test (TUGT) <span id="tugt_badge" class="badge alert-danger"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    {% for subfield in form.tugt %}
                        {{ subfield }} {{ subfield.label }}
                    {% endfor %}
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองภาวะกลั้นปัสสาวะ</strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    {% for subfield in form.urine_holding %}
                        {{ subfield }} {{ subfield.label }}
                    {% endfor %}
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองภาวะโภชนาการ: ดัชนีมวลกาย (BMI: Body Mass Index)</strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    {{ form.bmi.label }} {{ form.bmi() }}
                </div>
            </div>
        </div>

        <h4><strong>การประเมินภาวะทุพโภชนาการ <span id="malnutrition_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                        <p>คะแนนรวม 12-14 แสดงว่า มีโภชนาการปกติ</p>
                        <p>คะแนนรวม 8-11 แสดงว่า มีความเสี่ยงต่อการขาดสารอาหาร</p>
                        <p>คะแนนรวม 0-7 แสดงว่า มีภาวะขาดสารอาหาร</p>
                    </div>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td class="col-md-6">
                                {{ form.malnutrition_one.label() }}
                            </td>
                            <td>
                                {% for subfield in form.malnutrition_one %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td>
                                {{ form.malnutrition_two.label() }}
                            </td>
                            <td>
                                {% for subfield in form.malnutrition_two %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td>
                                {{ form.malnutrition_three.label() }}
                            </td>
                            <td>
                                {% for subfield in form.malnutrition_three %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td>
                                {{ form.malnutrition_four.label() }}
                            </td>
                            <td>
                                {% for subfield in form.malnutrition_four %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td>
                                {{ form.malnutrition_five.label() }}
                            </td>
                            <td>
                                {% for subfield in form.malnutrition_five %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td>
                                {{ form.malnutrition_six.label() }}
                            </td>
                            <td>
                                {% for subfield in form.malnutrition_six %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การประเมินปัญหาการนอน <span id="sleeping_trouble_badge" class="badge alert-danger"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    {{ form.sleeping_one.label() }} {{ form.sleeping_one() }}
                    <br/>
                    {{ form.insomnia(disabled=True) }} {{ form.insomnia.label() }} 
                    {{ form.oversleep(disabled=True) }} {{ form.oversleep.label() }} 
                    {{ form.snore(disabled=True) }} {{ form.snore.label() }} 
                    {{ form.dreamwalk(disabled=True) }} {{ form.dreamwalk.label() }} 
                    {{ form.sleeping_other.label() }} {{ form.sleeping_other(disabled=True) }}
                    <br/>
                    {{ form.sleeping_period_year.label() }} {{ form.sleeping_period_year(disabled=True) }}
                    {{ form.sleeping_period_month.label() }} {{ form.sleeping_period_month(disabled=True) }}
                    <br/>
                    {{ form.sleeping_avg_hours.label() }} {{ form.sleeping_avg_hours(disabled=True) }}
                    <br/>
                    <br/>
                    {{ form.fatique.label() }} {{ form.fatique() }}
                </div>
            </div>
        </div>

        <h4><strong>การประเมินความสามารถในการใช้ชีวิตประจำวัน  <span id="routine_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-warning">
                        <p>คะแนนรวม >= 12 คะแนน หมายถึงช่วยเหลือตัวเอง ผู้อื่น และสังคมได้</p>
                        <p>คะแนนรวม 5-11 คะแนน หมายถึงช่วยเหลือตัวเองได้</p>
                        <p>คะแนนรวม <= 4 คะแนน หมายถึงช่วยเหลือตัวเองไม่ได้</p>
                    </div>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_one.label() }}
                            </td><td>
                                {% for subfield in form.routine_one %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_two.label() }}
                            </td><td>
                                {% for subfield in form.routine_two %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_three.label() }}
                            </td><td>
                                {% for subfield in form.routine_three %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_four.label() }}
                            </td><td>
                                {% for subfield in form.routine_four %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_five.label() }}
                            </td><td>
                                {% for subfield in form.routine_five %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_six.label() }}
                            </td><td>
                                {% for subfield in form.routine_six %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_seven.label() }}
                            </td><td>
                                {% for subfield in form.routine_seven %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_eight.label() }}
                            </td><td>
                                {% for subfield in form.routine_eight %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_nine.label() }}
                            </td><td>
                                {% for subfield in form.routine_nine %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.routine_ten.label() }}
                            </td><td>
                                {% for subfield in form.routine_ten %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <h4><strong>การคัดกรองผู้สูงอายุที่ต้องได้รับการดูแลระยะยาว <span id="long_term_care_score_badge" class="badge"></span></strong></h4>
        <div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <h4>ด้านที่ 1 สังคม</h4>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td class="col-md-5">
                                {{ form.long_term_care_one_one.label() }}
                            </td><td>
                                {% for subfield in form.long_term_care_one_one %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.long_term_care_one_two.label() }}
                            </td><td>
                                {% for subfield in form.long_term_care_one_two %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.long_term_care_one_three.label() }}
                            </td><td>
                                {% for subfield in form.long_term_care_one_three %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                    </table>
                    <h4>ด้านที่ 2 ความสามารถในการมองเห็นและได้ยิน</h4>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td class="col-md-5">
                                {{ form.long_term_care_two_one.label() }}
                            </td><td>
                                {% for subfield in form.long_term_care_two_one %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                {{ form.long_term_care_two_two.label() }}
                            </td><td>
                                {% for subfield in form.long_term_care_two_two %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                    </table>
                    <h4>ด้านที่ 3 ภาวะหลงลืมและซึมเศร้า</h4>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td class="col-md-5">
                                {{ form.long_term_care_three_one.label() }}
                            </td><td>
                                {% for subfield in form.long_term_care_three_one %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                <strong>ในสองสัปดาห์ที่ผ่านมารวมวันนี้ ท่านมีความรู้สึก</strong>
                            </td><td>
                                {{ form.long_term_care_three_two_one() }}
                                {{ form.long_term_care_three_two_one.label() }}
                                <br/>
                                {{ form.long_term_care_three_two_two() }}
                                {{ form.long_term_care_three_two_two.label() }}
                                <br/>
                            </td>
                        </tr>
                    </table>
                    <h4>ด้านที่ 4 ภาวะเปราะบาง</h4>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td class="col-md-5">
                                {{ form.long_term_care_four_one() }}
                                {{ form.long_term_care_four_one.label() }}
                                <br/>
                                {{ form.long_term_care_four_two() }}
                                {{ form.long_term_care_four_two.label() }}
                                <br/>
                                {{ form.long_term_care_four_three() }}
                                {{ form.long_term_care_four_three.label() }}
                                <br/>
                                {{ form.long_term_care_four_four() }}
                                {{ form.long_term_care_four_four.label() }}
                                <br/>
                                {{ form.long_term_care_four_five() }}
                                {{ form.long_term_care_four_five.label() }}
                            </td>
                        </tr>
                    </table>
                    <h4>ด้านที่ 5 ความสามารถในการทำกิจกรรมประจำวัน</h4>
                    <table class="table table-striped table-bordered">
                        <tr>
                            <td class="col-md-5">
                                1) {{ form.long_term_care_five_one.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_one %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                2) {{ form.long_term_care_five_two.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_two %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                3) {{ form.long_term_care_five_three.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_three %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                4) {{ form.long_term_care_five_four.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_four %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                5) {{ form.long_term_care_five_five.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_five %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                6) {{ form.long_term_care_five_six.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_six %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                7) {{ form.long_term_care_five_seven.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_seven %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                8) {{ form.long_term_care_five_eight.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_eight %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                9) {{ form.long_term_care_five_nine.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_nine %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                10) {{ form.long_term_care_five_ten.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_ten %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                11) {{ form.long_term_care_five_eleven.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_eleven %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                12) {{ form.long_term_care_five_twelve.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_twelve %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                13) {{ form.long_term_care_five_thirteen.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_thirteen %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                14) {{ form.long_term_care_five_fourteen.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_fourteen %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                15) {{ form.long_term_care_five_fifteen.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_fifteen %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                        <tr>
                            <td class="col-md-5">
                                16) {{ form.long_term_care_five_sixteen.label() }}
                            </td>
                            <td>
                                {% for subfield in form.long_term_care_five_sixteen %}
                                    {{ subfield }} {{ subfield.label }}<br/>
                                {% endfor %}
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <br/>
    <br/>
    <center>{{ form.submit(value="ส่งข้อมูล") }}</center>
    </form>

    {% else %}
        <div class="panel panel-default">
            <div class="panel panel-heading"><h4><strong>ขออภัย</strong></h4></div>
            <div class="panel-body">
                <p>บัญชีของท่านยังไม่ผ่านการตรวจสอบจึงไม่สามารถกรอกข้อมูลได้ในขณะนี้</p>
                <p>โปรดรอให้บัญชีของท่านได้รับการยืนยันจากเจ้าหน้าที่ดูแลระบบก่อน</p>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
